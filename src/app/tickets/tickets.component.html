<h1>Tickets</h1>
<mat-accordion>

  <mat-expansion-panel *ngFor="let ticket of tickets">
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{ticket.title}}
      </mat-panel-title>
      <mat-panel-description>
        Ticket No: #{{ticket.ticketNo}} | created at {{ticket.createdAt | date: 'medium'}}
      </mat-panel-description>
    </mat-expansion-panel-header>

    <p>
      {{ticket.body}}
    </p>

    <h2>Comments</h2>
    <hr>
    <div>
      <p *ngFor="let item of ticket.comments" [ngClass]="item.status==='Customer' ? 'float_left' : 'float_right'">
        {{item.body}} <br> <br>

        <span style="font-weight:bold">{{item.status}}</span> : <mat-icon>chat</mat-icon>
        <span>Created by {{item.createdBy}} at {{item.createdAt | date: 'medium'}}</span>


      </p>

      <mat-card class="example-card">
        <mat-card-header>
          <div mat-card-avatar class="example-header-image"></div>
          <mat-card-title>Add Comment</mat-card-title>
          <mat-card-subtitle>
            <mat-icon>chat-bubbles</mat-icon>
          </mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
          <mat-form-field>
            <input type="textarea" name="comment" matInput placeholder="Please add your comment here" formControlName="comment">


          </mat-form-field>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button>ADD COMMENT</button>

        </mat-card-actions>
      </mat-card>
    </div>
    <mat-action-row>
      <button mat-button>Close this ticket</button>
    </mat-action-row>
  </mat-expansion-panel>




</mat-accordion>
